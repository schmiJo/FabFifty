import{_ as G}from"./DIDTA8vC.js";import{e as A,p as O,r as m,j as z,s as T,v as H,u as P,c as l,f as Z,a as e,l as b,n as J,h as o,t as n,b as B,w as M,d as k,F as Q,g as W,x as _,i as X,o as a}from"./X7zgmInz.js";import{_ as Y}from"./DlAUqK2U.js";const ee={class:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 relative overflow-hidden"},te={class:"relative z-10 p-4 max-w-4xl mx-auto"},oe={class:"mb-8"},se={class:"text-center bg-gradient-to-r from-white/10 to-white/5 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-xl"},le={class:"mb-4"},ae={class:"text-3xl font-bold text-white mb-3 font-playfair"},ne={key:0,class:"flex justify-center space-x-6 text-sm"},re={class:"text-center"},ie={class:"text-2xl font-bold text-yellow-400"},de={class:"text-yellow-200"},ce={class:"text-center"},ue={class:"text-2xl font-bold text-green-400"},fe={class:"mb-8 text-center"},me={key:0,class:"text-center py-16"},be={key:1,class:"text-center py-16"},xe={class:"bg-gradient-to-r from-red-400/10 to-red-600/5 backdrop-blur-sm rounded-xl p-6 border border-red-400/30 inline-block"},he={class:"text-red-100 text-sm"},pe={key:2,class:"text-center py-16"},ge={class:"bg-gradient-to-r from-white/5 to-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/10 inline-block"},ve={key:3,class:"space-y-6"},ye={class:"columns-1 sm:columns-2 lg:columns-3 xl:columns-4 gap-4 space-y-4"},we=["onClick"],ke={class:"relative"},_e=["src","alt","onError"],Ce={class:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-4"},Ee={class:"text-white"},Fe={class:"text-sm font-medium truncate mb-1"},$e={class:"text-xs text-gray-300"},Ie={class:"relative max-w-7xl max-h-full"},Le=["src","alt"],Ne={class:"absolute bottom-4 left-4 right-4 bg-black/50 backdrop-blur-sm rounded-xl p-4 text-white"},je={class:"flex items-center justify-between"},ze={class:"text-lg font-medium"},Be={class:"text-sm text-gray-300"},Me={class:"text-right"},Re={class:"text-sm text-gray-300"},Ue=["href"],De=A({__name:"[id]",setup(Ve){const y=O(),u=y.params.id,x=y.query.path||`images/${u}`,f=y.query.name||u,h=m(!0),p=m(null),r=m([]),g=m(!1),i=m(0),d=z(()=>r.value[i.value]),R=z(()=>(r.value.reduce((t,v)=>t+(v.size||0),0)/(1024*1024)).toFixed(1));function U(s){return{"bester-teller-buffet":"fas fa-utensils","coolster-tanzschritt":"fas fa-music","dresscode-nicht-erfuellt":"fas fa-tshirt","kreativster-schnappschuss":"fas fa-camera-retro","lieblingsbild-geburtstagskinder":"fas fa-heart","most-impressive-dress":"fas fa-crown","pose-ohne-absicht":"fas fa-laugh","romantischster-moment":"fas fa-kiss","schoenstes-gruppenfoto":"fas fa-users"}[s]||"fas fa-camera"}async function C(){try{h.value=!0,p.value=null,console.log(`üîç Loading images for path: ${x}`);const s=await $fetch("/api/list-images",{query:{path:x}});if(s.success)r.value=s.images,console.log(`üì∏ Loaded ${s.images.length} images`);else throw new Error("Failed to load images")}catch(s){console.error("‚ùå Error loading images:",s),p.value=s instanceof Error?s.message:"Fehler beim Laden der Bilder"}finally{h.value=!1}}function E(s){return s?new Date(s).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Unbekannt"}function D(s){console.error(`‚ùå Failed to load image: ${s.url}`)}function V(s){i.value=s,g.value=!0,document.body.style.overflow="hidden"}function w(){g.value=!1,document.body.style.overflow="auto"}function F(){i.value<r.value.length-1&&i.value++}function $(){i.value>0&&i.value--}function K(){X("/")}function I(s){if(g.value)switch(s.key){case"Escape":w();break;case"ArrowRight":F();break;case"ArrowLeft":$();break}}return T(()=>{C(),document.addEventListener("keydown",I)}),H(()=>{document.removeEventListener("keydown",I),document.body.style.overflow="auto"}),P({title:`${f} - Galerie | Fab Fifty`,meta:[{name:"description",content:`Entdecke die sch√∂nsten Fotos in der Kategorie "${f}" vom 50. Geburtstag.`}]}),(s,t)=>{var L,N,j;const v=G;return a(),l("div",ee,[t[18]||(t[18]=Z('<div class="absolute inset-0 overflow-hidden" data-v-95b66668><div class="absolute top-10 left-10 w-2 h-2 bg-yellow-400 rounded-full animate-pulse" data-v-95b66668></div><div class="absolute top-20 right-20 w-1 h-1 bg-pink-400 rounded-full animate-ping" data-v-95b66668></div><div class="absolute bottom-32 left-20 w-3 h-3 bg-yellow-300 rounded-full animate-bounce" data-v-95b66668></div><div class="absolute bottom-20 right-10 w-2 h-2 bg-purple-400 rounded-full animate-pulse" data-v-95b66668></div></div>',1)),e("div",te,[e("div",oe,[e("button",{onClick:K,class:"flex items-center text-yellow-300 hover:text-yellow-200 transition-colors mb-6 bg-white/10 backdrop-blur-sm rounded-xl px-4 py-3 border border-white/20 hover:border-yellow-400/50"},t[1]||(t[1]=[e("i",{class:"fas fa-arrow-left mr-3 text-lg"},null,-1),e("span",{class:"font-medium"},"Zur√ºck zu den Kategorien",-1)])),e("div",se,[e("div",le,[e("i",{class:J([U(o(u)),"text-5xl text-yellow-400 mb-3 block"])},null,2)]),e("h1",ae,n(o(f)),1),t[3]||(t[3]=e("p",{class:"text-yellow-200 text-lg mb-4"},"Galerie",-1)),o(h)?b("",!0):(a(),l("div",ne,[e("div",re,[e("p",ie,n(o(r).length),1),e("p",de,n(o(r).length===1?"Foto":"Fotos"),1)]),e("div",ce,[e("p",ue,n(o(R)),1),t[2]||(t[2]=e("p",{class:"text-green-200"},"MB",-1))])]))])]),e("div",fe,[B(v,{to:`/upload/${o(u)}?path=${encodeURIComponent(o(x))}&name=${encodeURIComponent(o(f))}`,class:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-yellow-400 to-yellow-500 text-black font-semibold rounded-2xl shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300 hover:from-yellow-300 hover:to-yellow-400"},{default:M(()=>t[4]||(t[4]=[e("i",{class:"fas fa-cloud-upload-alt text-2xl mr-3"},null,-1),e("div",{class:"text-left"},[e("div",{class:"text-lg"},"Neue Fotos hochladen"),e("div",{class:"text-sm opacity-80"},"F√ºge deine Erinnerungen hinzu")],-1)])),_:1,__:[4]},8,["to"])]),o(h)?(a(),l("div",me,t[5]||(t[5]=[e("div",{class:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-yellow-400/20 to-yellow-600/20 rounded-full mb-4"},[e("i",{class:"fas fa-spinner fa-spin text-2xl text-yellow-400"})],-1),e("p",{class:"text-white text-lg"},"Lade Bilder...",-1)]))):o(p)?(a(),l("div",be,[e("div",xe,[t[7]||(t[7]=e("i",{class:"fas fa-exclamation-triangle text-3xl text-red-400 mb-4 block"},null,-1)),t[8]||(t[8]=e("p",{class:"text-red-200 text-lg mb-2"},"Fehler beim Laden der Bilder",-1)),e("p",he,n(o(p)),1),e("button",{onClick:C,class:"mt-4 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors"},t[6]||(t[6]=[e("i",{class:"fas fa-retry mr-2"},null,-1),k(" Erneut versuchen ")]))])])):o(r).length===0?(a(),l("div",pe,[e("div",ge,[t[10]||(t[10]=e("i",{class:"fas fa-images text-6xl text-gray-400 mb-6 block"},null,-1)),t[11]||(t[11]=e("h3",{class:"text-2xl font-semibold text-white mb-4"},"Noch keine Fotos vorhanden",-1)),t[12]||(t[12]=e("p",{class:"text-gray-300 mb-6"},"Sei der Erste, der Erinnerungen in dieser Kategorie teilt!",-1)),B(v,{to:`/upload/${o(u)}?path=${encodeURIComponent(o(x))}&name=${encodeURIComponent(o(f))}`,class:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-yellow-400 to-yellow-500 text-black font-semibold rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-300"},{default:M(()=>t[9]||(t[9]=[e("i",{class:"fas fa-plus mr-2"},null,-1),k(" Erstes Foto hochladen ")])),_:1,__:[9]},8,["to"])])])):(a(),l("div",ve,[e("div",ye,[(a(!0),l(Q,null,W(o(r),(c,S)=>(a(),l("div",{key:c.key,class:"break-inside-avoid bg-gradient-to-r from-white/10 to-white/5 backdrop-blur-sm rounded-xl overflow-hidden border border-white/20 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02] cursor-pointer",onClick:q=>V(S)},[e("div",ke,[e("img",{src:c.url,alt:c.fileName,class:"w-full h-auto object-cover",loading:"lazy",onError:q=>D(c)},null,40,_e),e("div",Ce,[e("div",Ee,[e("p",Fe,n(c.fileName),1),e("p",$e,n(E(c.lastModified)),1)])]),t[13]||(t[13]=e("div",{class:"absolute top-3 right-3 w-8 h-8 bg-black/50 backdrop-blur-sm rounded-full flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity duration-300"},[e("i",{class:"fas fa-search-plus text-white text-sm"})],-1))])],8,we))),128))])])),o(g)?(a(),l("div",{key:4,class:"fixed inset-0 z-50 bg-black/90 backdrop-blur-lg flex items-center justify-center p-4",onClick:w},[e("div",Ie,[e("button",{onClick:w,class:"absolute top-4 right-4 z-10 w-12 h-12 bg-black/50 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-colors"},t[14]||(t[14]=[e("i",{class:"fas fa-times text-xl"},null,-1)])),o(i)>0?(a(),l("button",{key:0,onClick:_($,["stop"]),class:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10 w-12 h-12 bg-black/50 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-colors"},t[15]||(t[15]=[e("i",{class:"fas fa-chevron-left text-xl"},null,-1)]))):b("",!0),o(i)<o(r).length-1?(a(),l("button",{key:1,onClick:_(F,["stop"]),class:"absolute right-4 top-1/2 transform -translate-y-1/2 z-10 w-12 h-12 bg-black/50 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-colors"},t[16]||(t[16]=[e("i",{class:"fas fa-chevron-right text-xl"},null,-1)]))):b("",!0),o(d)?(a(),l("img",{key:2,src:o(d).url,alt:o(d).fileName,class:"max-w-full max-h-full object-contain rounded-lg",onClick:t[0]||(t[0]=_(()=>{},["stop"]))},null,8,Le)):b("",!0),e("div",Ne,[e("div",je,[e("div",null,[e("p",ze,n((L=o(d))==null?void 0:L.fileName),1),e("p",Be,n(E((N=o(d))==null?void 0:N.lastModified)),1)]),e("div",Me,[e("p",Re,n(o(i)+1)+" / "+n(o(r).length),1),e("a",{href:(j=o(d))==null?void 0:j.url,target:"_blank",class:"text-yellow-400 hover:text-yellow-300 transition-colors text-sm"},t[17]||(t[17]=[e("i",{class:"fas fa-external-link-alt mr-1"},null,-1),k(" Original √∂ffnen ")]),8,Ue)])])])])])):b("",!0)])])}}}),Ge=Y(De,[["__scopeId","data-v-95b66668"]]);export{Ge as default};
